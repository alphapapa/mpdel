* MPDel

** Summary

MPDel is an Emacs client for [[https://www.musicpd.org/][Music Player Daemon]] (MPD), a flexible,
powerful, server-side application for playing music. MPDel provides an
Emacs user interface to control playback (play, pause, next, volume
up…) and to display and control the current playlist as well as your
stored playlists (e.g., "my favorites", "wake me up", "make me dance",
…).

This is a screenshot of the current playlist with the
currently-playing song:

[[file:media/mpdel-playlist.png]]

MPDel can show information about the currently playing song or any
other song:

[[file:media/mpdel-song.png]]

With the additional package [[https://gitlab.petton.fr/mpdel/ivy-mpdel.git][ivy-mpdel]], you can navigate your music
database and add songs to playlists with completion:

[[file:media/ivy-mpdel.png]]

** Installing

Clone this git repository and [[https://gitlab.petton.fr/mpdel/libmpdel][libmpdel]]. I will ask to get MPDel inside
[[http://melpa.org/][melpa]] to facilitate installation.

You need to install and (quickly) configure an [[https://www.musicpd.org/][MPD server]] if you don't
have any yet. Don't worry, that's simple and you won't regret it.

** Using

Start by adding these lines to your ~init.el~ file:

#+BEGIN_SRC emacs-lisp
  (add-to-list 'load-path "~/.emacs.d/lib/mpdel")
  (require 'mpdel)
  (mpdel-mode)
#+END_SRC

Then, press ~C-x Z l~ to show the current playlist. The ~C-x Z~ global
prefix is configurable with ~mpdel-prefix-key~:

#+BEGIN_SRC emacs-lisp
  (setq mpdel-prefix-key (kbd "C-. z"))
#+END_SRC

The following MPDel keybindings are available globally if ~mpdel-mode~
is active:

| *Binding*   | *Action*                             |
|-------------+--------------------------------------|
| ~C-x Z SPC~ | toggle between play and pause        |
| ~C-x Z M-n~ | play next song                       |
| ~C-x Z M-p~ | play previous song                   |
| ~C-x Z l~   | open the current playlist            |
| ~C-x Z L~   | open a stored playlist               |
| ~C-x Z v~   | view current song                    |

The last component of each keybinding can also be pressed in any MPDel
buffer (e.g., press ~M-n~ in a playlist buffer to play the next song)
to do the same.  Additionally, the following keybindings are available
in all MPDel buffers where they make sense:

| *Binding* | *Action*                            |
|-----------+-------------------------------------|
| ~a~       | add item to current playlist        |
| ~A~       | add item to a stored playlist       |
| ~r~       | replace current playlist with item  |
| ~R~       | replace a stored playlist with item |
| ~v~       | view currently played song          |
| ~V~       | view song at point                  |

** License

See [[file:COPYING][COPYING]]. Copyright (c) 2018 Damien Cassou.

  #+BEGIN_HTML
  <a href="https://liberapay.com/DamienCassou/donate">
    <img alt="Donate using Liberapay" src="https://liberapay.com/assets/widgets/donate.svg">
  </a>
  #+END_HTML

#  LocalWords:  MPDel MPD minibuffer
